apiVersion: apps.openshift.io/v1
kind: DeploymentConfig
metadata:
  creationTimestamp: '2019-04-09T17:00:53Z'
  generation: 48
  labels:
    app: microcks
    container: spring
    group: microcks
    template: microcks-persistent-no-keycloak-template-https
  name: microcks
  namespace: gl2uos-tools
  resourceVersion: '858769936'
  selfLink: >-
    /apis/apps.openshift.io/v1/namespaces/gl2uos-tools/deploymentconfigs/microcks
  uid: 091c8c5c-5ae9-11e9-a08c-005056832285
spec:
  replicas: 1
  revisionHistoryLimit: 10
  selector:
    app: microcks
    container: spring
    deploymentconfig: microcks
    group: microcks
  strategy:
    activeDeadlineSeconds: 21600
    recreateParams:
      timeoutSeconds: 600
    resources: {}
    type: Recreate
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: microcks
        container: spring
        deploymentconfig: microcks
        group: microcks
    spec:
      containers:
        - env:
            - name: JAVA_OPTIONS
            - name: SPRING_PROFILES_ACTIVE
              value: prod
            - name: SPRING_DATA_MONGODB_URI
              value: >-
                mongodb://userM6X:IuWunpTMj8jIiXEJ@microcks-mongodb:27017/${SPRING_DATA_MONGODB_DATABASE}
            - name: SPRING_DATA_MONGODB_DATABASE
              value: microcks
            - name: POSTMAN_RUNNER_URL
              value: 'http://microcks-postman-runtime:8080'
            - name: TEST_CALLBACK_URL
              value: 'http://microcks:8080'
            - name: KEYCLOAK_URL
              value: 'https://sso-dev.pathfinder.gov.bc.ca/auth'
          image: >-
            microcks/microcks@sha256:214ef2eb42b459e98786032ddbf9544afd8bb4f99bd9ccf4ce40e2057f199f8d
          imagePullPolicy: IfNotPresent
          name: spring
          ports:
            - containerPort: 8080
              protocol: TCP
          resources:
            limits:
              memory: 512Mi
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
          volumeMounts:
            - mountPath: /deployments/config
              name: microcks-config
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
      volumes:
        - configMap:
            defaultMode: 420
            name: microcks-config
          name: microcks-config
  test: false
  triggers:
    - type: ConfigChange
    - imageChangeParams:
        automatic: true
        containerNames:
          - spring
        from:
          kind: ImageStreamTag
          name: 'microcks:latest'
          namespace: gl2uos-tools
        lastTriggeredImage: >-
          microcks/microcks@sha256:214ef2eb42b459e98786032ddbf9544afd8bb4f99bd9ccf4ce40e2057f199f8d
      type: ImageChange
status:
  availableReplicas: 1
  conditions:
    - lastTransitionTime: '2019-07-10T19:51:39Z'
      lastUpdateTime: '2019-07-10T19:51:39Z'
      message: Deployment config has minimum availability.
      status: 'True'
      type: Available
    - lastTransitionTime: '2019-07-10T19:51:17Z'
      lastUpdateTime: '2019-07-10T19:51:41Z'
      message: replication controller "microcks-17" successfully rolled out
      reason: NewReplicationControllerAvailable
      status: 'True'
      type: Progressing
  details:
    causes:
      - type: Manual
    message: manual change
  latestVersion: 17
  observedGeneration: 48
  readyReplicas: 1
  replicas: 1
  unavailableReplicas: 0
  updatedReplicas: 1